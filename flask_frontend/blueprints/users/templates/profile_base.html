{% extends 'main.html' %}

{% block content %}
  {%  from 'user_macros.html' import user_basic_info, user_game_ownerships %}

  {% set is_my_profile = current_user.is_authenticated() and current_user.id == user.id %}

  {% if is_my_profile %}

    {% set side_menu = [
      (url_for('users.profile_view', user_id=user.id), 'profile', gettext('Profile')),
      (url_for('users.friends_view', user_id=user.id), 'friends', gettext('Friends')),
      ('#', 'messages', gettext('Messages')),
      ('#', 'match', gettext('Matches')),
      ('#', 'challenges', gettext('Challenges')),
      ('#', 'leagues', gettext('Leagues')),
      (url_for('users.edit_profile_view', user_id=user.id), 'settings', gettext('Settings')),
      (url_for('users.teams_view', user_id=user.id), 'teams', gettext('Teams'))
    ] -%}

  {% else %}

    {% set side_menu = [
      (url_for('users.profile_view', user_id=user.id), 'profile', gettext('Profile')),
      ('#', 'match', gettext('Matches')),
      ('#', 'challenges', gettext('Challenges')),
      ('#', 'leagues', gettext('Leagues')),
      (url_for('users.teams_view', user_id=user.id), 'teams', gettext('Teams'))
    ] -%}

  {% endif %}

  <div class="profile player col-md-9">
    <div class="row">
      <div class="menu">
        <div class="logo">
          {% from 'user_macros.html' import user_logo_src %}
          <img class="avatar" src="{{ user_logo_src(user, width=130) }}" alt="" />
          <img class="flag" src="{{ url_for('static', filename='images/flag.png') }}" alt="" />
          <h3>{{ user.name }}</h3>
        </div>
        {% from 'macros.html' import render_side_menu %}
        {% call render_side_menu(side_menu, '#profile_content') %}
          <li><hr></li>
          <li><a href="#">Fnatic</a></li>
        {% endcall %}
      </div>
      <div class="content" id="profile_content">
        {% block pjax_content %}

        {% endblock %}
      </div>
    </div>
  </div>

{% endblock content %}